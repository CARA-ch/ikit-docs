
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../faq/">
      
      
        <link rel="next" href="../changelog_ikit/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>CARA INT Changelog - IKIT for CARA</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="matchbox" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#migration-to-emedo-platform" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IKIT for CARA" class="md-header__button md-logo" aria-label="IKIT for CARA" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IKIT for CARA
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CARA INT Changelog
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IKIT for CARA" class="md-nav__button md-logo" aria-label="IKIT for CARA" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    IKIT for CARA
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Primary system integration with CARA
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ikit-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IKIT Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usecases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IKIT Usecases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../primarysystems-epr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EPR Primary System Integration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    CARA INT Changelog
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    CARA INT Changelog
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#migration-to-emedo-platform" class="md-nav__link">
    <span class="md-ellipsis">
      migration to emedo platform
    </span>
  </a>
  
    <nav class="md-nav" aria-label="migration to emedo platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pdq-v3-iti-47" class="md-nav__link">
    <span class="md-ellipsis">
      PDQ V3 ITI-47
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sts-xua-token-response-for-xds-calls" class="md-nav__link">
    <span class="md-ellipsis">
      STS XUA token response for XDS calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xds" class="md-nav__link">
    <span class="md-ellipsis">
      XDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hpd-queries" class="md-nav__link">
    <span class="md-ellipsis">
      HPD queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xds-iti-1843-requests-to-initiating-gateway-sufficient-no-document-registry-repository-calls-necessary" class="md-nav__link">
    <span class="md-ellipsis">
      XDS: ITI-18/43 Requests to Initiating Gateway sufficient (no Document Registry / Repository calls necessary)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog_ikit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IKIT Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#migration-to-emedo-platform" class="md-nav__link">
    <span class="md-ellipsis">
      migration to emedo platform
    </span>
  </a>
  
    <nav class="md-nav" aria-label="migration to emedo platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pdq-v3-iti-47" class="md-nav__link">
    <span class="md-ellipsis">
      PDQ V3 ITI-47
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sts-xua-token-response-for-xds-calls" class="md-nav__link">
    <span class="md-ellipsis">
      STS XUA token response for XDS calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xds" class="md-nav__link">
    <span class="md-ellipsis">
      XDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hpd-queries" class="md-nav__link">
    <span class="md-ellipsis">
      HPD queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xds-iti-1843-requests-to-initiating-gateway-sufficient-no-document-registry-repository-calls-necessary" class="md-nav__link">
    <span class="md-ellipsis">
      XDS: ITI-18/43 Requests to Initiating Gateway sufficient (no Document Registry / Repository calls necessary)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>CARA INT Changelog</h1>

<h3 id="migration-to-emedo-platform">migration to emedo platform</h3>
<p>to migrate to the emedo platform from the existing integration platform the following new points have to be taken into considerations:</p>
<ol>
<li>Two new test patients are available for validation <a href="testpatients">link</a></li>
<li>use new client certificates and adapt endpoints <a href="ikit-config/">config</a></li>
<li>configure your new patient assigning authority source oid with CARA</li>
<li>configure your IdP (e.g. HIN SAML NameID) with CARA for document access</li>
</ol>
<p>You can download the <a href="../assets/IKIT.postman_collection.json">IKIT.postman_collection.json</a> for example requests.</p>
<p>Please note a few different platform behaviours:</p>
<h4 id="pdq-v3-iti-47">PDQ V3 ITI-47</h4>
<p>If more than 5 results are available, the result with a success message will contain the first five results  and 
indicate with a reasonOf/detectedIssueEvent entry that more specific search criteria should be specified. The existing platform had an en error message with acceptAckCode code set to NE. <a href="https://ikit.cara.ch/dep/#/transaction/3fb82e89-4a8e-41a6-97e2-19563f963bc2">example</a></p>
<h4 id="sts-xua-token-response-for-xds-calls">STS XUA token response for XDS calls</h4>
<p>The namespace declarations for xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' and xmlns:s='http://www.w3.org/2001/XMLSchema' are in the outer xml block in the response, meaning that if you extract the saml:Assertion by text it will be invalid xml without the above namespaces declared (this might not be the case if you reuse it directly). Verify for follow up requests that you have xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' declared before.
<a href="https://ikit.cara.ch/dep/#/transaction/d95ed4e6-2e75-4926-b43b-129deb3c9b3d">example</a>. </p>
<p>In addition the display names for the coded claims have to be provided, otherwise a follow up usage of the token can fail (open issue EPR-1404: SAML token validation failure: saml2:Assertion/saml2:AttributeStatement/saml2:Attribute[@Name='urn:oasis:names:tc:xspa:1.0:subject:purposeofuse']/saml2:AttributeValue/PurposeOfUse@displayName attribute required)</p>
<h4 id="xds">XDS</h4>
<p>Ensure that start-info is in the http content-type header: (e.g. content-type: multipart/related; boundary=uuid:71766996-d9d7-484d-868d-8658c0c85d9a;type="application/xop+xml";start-info="application/soap+xml; charset=utf-8"), <a href="https://ikit.cara.ch/dep/#/transaction/58e93b31-0539-4ddf-b8e9-814076a7ec59">example request</a>
<a href="https://ikit.cara.ch/dep/#/transaction/d95ed4e6-2e75-4926-b43b-129deb3c9b3d">example</a></p>
<h4 id="hpd-queries">HPD queries</h4>
<p>HPD queries need to have scope="wholeSubtree", singleLevel does not work.</p>
<h4 id="xds-iti-1843-requests-to-initiating-gateway-sufficient-no-document-registry-repository-calls-necessary">XDS: ITI-18/43 Requests to Initiating Gateway sufficient (no Document Registry / Repository calls necessary)</h4>
<p>An ITI-18 Query to the Initiating Gateway will return all document entries in all communities including document entries in the community of the Initiating Gateway. This means a separate request to the ITI-18 registry is not necessary, or otherwise duplicates would need to be filtered out. Equivalent an ITI-43 retrieve to the Initiating Gateway can handle also document retrieve within the own community, not only for the external communities. </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>